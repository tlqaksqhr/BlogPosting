# 4. Supertest, Mocha, chai로 Expressjs 테스트 코드 작성 하기  



## 소개



이번 포스팅에서는 supertest와 mocha, chai를 이용해서 expressjs 테스트 코드를 작성하는 방법을 다루도록 하겠습니다.



사실 테스팅을 왜 하는지에 대해 의문을 가지는 사람이 꽤나 있을 수 도 있습니다. 특히 혼자서 1인 개발을 하는 경우 그냥 직접 돌려보면서 테스팅을 하고 대충 돌아간다 싶으면 배포하는 사람도 있을거고, 그냥 수동으로 테스팅을 하는것이 더 편한 사람도 있을겁니다. 



하지만, 혼자가 아닌 남들과 같이 협업을 해야하는 상황에서 또는 혼자서 개발해야되는 경우에도, 코드를 대규모로 변경해야 되는 상황에 마주치게 된다면은 이러한 테스트 코드가 있고/없고의 차이가 정말로 명백합니다. 

저러한 테스트 케이스가 없는경우, 코드를 변경한 이후에 해당 서비스가 의도한대로 정확히 동작을 하는지 하지않는지에 대해 알 방법이 없습니다.

따라서, 기존 서비스의 코드를 개선할 기회를 놓치게 되고 이는 상황을 더 악화시켜서 서비스가 더이상 유지보수 불가능한 상황이 오게 됩니다.

즉, 요약하자면 테스트 코드는 일종의 안전망이라고 볼 수 있습니다.



node.js 에서는 이러한 테스트를 도와주는 라이브러리인 mocha, chai 등의 라이브러리가 있으며 웹 서비스와 같은 경우에는 supertest를 이용해서 테스트를 할 수 있습니다.



## 설치



아래 명령어를 이용해서 supertest, mocha, chai를 설치 해줍니다.

```shell
npm install mocha chai supertest
```



그런 뒤 package.json을 열어서 아래와 같이 작성을 해줍니다

```javascript
{
  "name": "memo",
  "version": "1.0.0",
  "description": "",
  "main": "app.js",
  "scripts": {
    "test": "mocha test/test.js"
  },
  "author": "",
  "license": "ISC",
  "dependencies": {
    "express": "^4.17.1",
    "pg-promise": "^10.3.3"
  }
}
```





## 테스트 코드 작성





## 요약

